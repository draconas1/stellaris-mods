# condan_crisis_events.txt  Contingency Processing Core 1A6F
# Stellaris 2024 ModJam
# Contributors: Draconas

namespace = condan_crisis



country_event = { # Taking the AP - Start level 1
    id = condan_crisis.001
    title = "condan_crisis.001.name"
    desc = {
        trigger = { is_gestalt = no }
        text = condan_crisis.001.desc
    }
    desc = {
        trigger = { is_machine_empire = yes }
        text = condan_crisis.001.mach.desc
    }
    show_sound = ai_crisis_room_amb
    is_triggered_only = yes
    diplomatic = yes
    picture_event_data = { portrait = ai_crisis_1}

    event_chain = condan_chain

    option = {
        name = condan_crisis.001.a
        begin_event_chain = {
            event_chain = condan_chain
            target = root
        }
        add_event_chain_counter = {
            event_chain = "condan_chain"
            counter = "condan_level_reached"
            amount = 1
        }
        start_situation = {
            type = condan_synth_evolution_situation
            target = ROOT
        }
    }
}

country_event = { # Reaching Level 2
    id = condan_crisis.200
    title = condan_crisis.200.name
    desc = condan_crisis.200.desc
    picture = GFX_evt_synaptic_lathe
    show_sound = event_death_cult
    event_chain = cosmogenesis_chain

    is_triggered_only = yes

    immediate = {
        add_event_chain_counter = {
            event_chain = "condan_chain"
            counter = "condan_level_reached"
            amount = 1
        }
        create_ship_design = { design = "NAME_Condan_Sterilizer" }
        add_ship_design = last_created_design
    }

    option = {
        name = OK
    }
}

country_event = { # Reaching Level 3
    id = condan_crisis.300
    title = condan_crisis.300.name
    desc = condan_crisis.300.desc
    picture = GFX_evt_synaptic_lathe
    show_sound = event_death_cult
    event_chain = cosmogenesis_chain

    is_triggered_only = yes

    immediate = {
        add_event_chain_counter = {
            event_chain = "condan_chain"
            counter = "condan_level_reached"
            amount = 1
        }
        create_ship_design = { design = "NAME_condan_Euthanizer" }
        add_ship_design = last_created_design
    }

    option = {
        name = OK
    }
}

country_event = { # Reaching Level 4
    id = condan_crisis.400
    title = condan_crisis.400.name
    desc = condan_crisis.400.desc
    picture = GFX_evt_synaptic_lathe
    show_sound = event_death_cult
    event_chain = cosmogenesis_chain

    is_triggered_only = yes

    immediate = {
        add_event_chain_counter = {
            event_chain = "condan_chain"
            counter = "condan_level_reached"
            amount = 1
        }
         create_ship_design = { design = "NAME_condan_titan" }
         add_ship_design = last_created_design
    }

    option = {
        name = OK
    }
}

country_event = { # Reaching Level 5
    id = condan_crisis.500
    title = condan_crisis.500.name
    desc = condan_crisis.500.desc
    picture = GFX_evt_synaptic_lathe
    show_sound = event_death_cult
    event_chain = cosmogenesis_chain

    is_triggered_only = yes

    immediate = {
        add_event_chain_counter = {
            event_chain = "condan_chain"
            counter = "condan_level_reached"
            amount = 1
        }
        # create_ship_design = { design = "NAME_Condan_Euthanizer" }
        # add_ship_design = last_created_design
    }

    option = {
        add_relic = r_contingency_core
        name = OK
    }
}




country_event = { # Reaching Level 5
    id = condan_crisis.999
    title = Spawn_Ships
    desc = Spawn_Ships
    picture = GFX_evt_synaptic_lathe
    show_sound = event_death_cult
    event_chain = cosmogenesis_chain

    is_triggered_only = yes

    immediate = {
    }

    option = {
        create_fleet = {
            effect = {
                set_owner = ROOT
                while = {
                    count = 2
                    create_ship = {
                        name = random
                        design = "NAME_Euthanizer"
                        graphical_culture = "ai_01"
                    }
                }
                while = {
                    count = 2
                    create_ship = {
                        name = random
                        design = "NAME_Sterilizer"
                        graphical_culture = "ai_01"
                    }
                }
                set_location = {
                    target = event_target:condan_planet
                    distance = 45
                    angle = random
                }
            }
        }
        name = OK
    }
}


# On becoming a Crisis Empire (Crisis Level 1)
# country_event = {
#     id = crisis.4140
#     title = "crisis.4140.name"
#
#     picture = GFX_evt_fleet_from_surface
#     show_sound = event_death_cult
#     event_chain = become_the_crisis_chain
#
#     is_triggered_only = yes
#
#     immediate = {
#         begin_event_chain = {
#             event_chain = become_the_crisis_chain
#             target = root
#         }
#     }
#
#     option = {
#         name = crisis.4140.a
#         tooltip = {
#             begin_event_chain = {
#                 event_chain = become_the_crisis_chain
#                 target = root
#             }
#         }
#         add_event_chain_counter = {
#             event_chain = "become_the_crisis_chain"
#             counter = "crisis_level_reached"
#             amount = 1
#         }
#         if = {
#             limit = {
#                 NOT = {
#                     has_ethic = ethic_gestalt_consciousness
#                 }
#             }
#             enable_special_project = {
#                 name = "CRISIS_SPECIAL_PROJECT_1"
#                 owner = ROOT
#             }
#         }
#         else_if = {
#             limit = {
#                 is_machine_empire = yes
#             }
#             enable_special_project = {
#                 name = "CRISIS_SPECIAL_PROJECT_MACH_1"
#                 owner = ROOT
#             }
#         }
#         else_if = {
#             limit = {
#                 is_hive_empire = yes
#             }
#             enable_special_project = {
#                 name = "CRISIS_SPECIAL_PROJECT_HIVE_1"
#                 owner = ROOT
#             }
#         }
#         custom_tooltip = new_crisis_perks_tt
#     }
# }
